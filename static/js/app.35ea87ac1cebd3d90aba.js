webpackJsonp([0],{"6JAE":function(e,t){},"7SeG":function(e,t){},DMzq:function(e,t){},GBjS:function(e,t){},LSSr:function(e,t){},NHnr:function(e,t,n){"use strict";function i(e,t,n){return t%=2*Math.PI,n%=2*Math.PI,t<=n?t<e&&n>=e:t<e||n>=e}function a(e,t,n){var a=Math.min(e.width,e.height)/2.05,s=e.width/2,r=e.height/2,o=e.getContext("2d");o.clearRect(0,0,e.width,e.height);var l=o.createRadialGradient(s,r,0,s,r,a);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,0.1)");for(var c=M(n),d=0,u=0;u<n.length;++u){var f=n[u],p=f.freq||x;d+=p;var h=t+2*Math.PI*(d-p)/c,m=t+2*Math.PI*d/c,v=t+2*Math.PI*(d-p/2)/c,g=i(1.5*Math.PI,h,m);o.beginPath(),o.moveTo(s,r),o.arc(s,r,a,h,m,!1),o.fillStyle=f.bg||$(u),o.fill(),o.fillStyle=l,o.fill(),o.save();var _=Math.min(m-h,.25),b=1-.07*Math.round(f.name.length/3),P=f.fontMod||1,w=Math.max(10,.4*a*_*b*P);o.fillStyle=f.text||C,g&&(o.shadowColor=f.text||C,o.shadowBlur=a/15),o.font=w+"px 'Muli', sans-serif",o.textAlign="right",o.textBaseline="middle",o.translate(s,r),o.rotate(v),o.fillText(f.name,.91*a,0),o.restore()}o.save(),o.shadowOffsetX=a/100,o.shadowOffsetY=a/100,o.shadowBlur=a/40,o.shadowColor="rgba(0,0,0,0.2)",o.beginPath(),o.arc(s,r,1.005*a,0,2*Math.PI,!0),o.arc(s,r,.985*a,0,2*Math.PI,!1),o.fillStyle="#424242",o.fill(),o.shadowOffsetX=a/100,o.shadowOffsetY=a/100,o.fillStyle="#424242",o.beginPath(),o.arc(s,r,a/30,0,2*Math.PI,!1),o.fill(),o.translate(s,r),o.rotate(Math.PI/2),o.beginPath(),o.moveTo(1.01*-a,.05*-a),o.lineTo(.935*-a,0),o.lineTo(1.01*-a,.05*a),o.fillStyle="#f44336",o.fill(),o.restore()}function s(e,t){var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.drawImage(e,0,0)}function r(e,t,n){try{e.setItem(t,n)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0});var o={};n.d(o,"addPrize",function(){return Z}),n.d(o,"addSpinResult",function(){return ee}),n.d(o,"hideOptions",function(){return te}),n.d(o,"loadPreset",function(){return ne}),n.d(o,"removePreset",function(){return ie}),n.d(o,"removePrize",function(){return ae}),n.d(o,"saveAndReset",function(){return se}),n.d(o,"saveNewPreset",function(){return re}),n.d(o,"savePreset",function(){return oe}),n.d(o,"showOptions",function(){return le}),n.d(o,"updateAvailable",function(){return ce}),n.d(o,"updateWheelSize",function(){return de});var l=n("/5sW"),c={name:"ModalPanel",data:function(){return{onKeyUp:null}},mounted:function(){this.onKeyUp=function(e){e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||27!==e.which||(this.$emit("close"),e.stopPropagation())}.bind(this),window.addEventListener("keyup",this.onKeyUp)},beforeDestroy:function(){window.removeEventListener("keyup",this.onKeyUp)}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-panel",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.$emit("close")}}},[n("div",{staticClass:"modal-panel-content"},[n("div",{staticClass:"modal-panel-header"},[e._t("header")],2),e._v(" "),e._t("default")],2)])},staticRenderFns:[]},u=n("VU/8")(c,d,!1,function(e){n("GBjS")},null,null).exports,f={name:"Wheel of Fortune",winningText:"Result: <b>%s</b>",background:"",removeWinning:!1,prizes:[{name:"$550",freq:3,bg:"#CE93D8",text:"#222",hide:!1,fontMod:1},{name:"$400",freq:3,bg:"#FFF59D",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#F48FB1",text:"#222",hide:!1,fontMod:1},{name:"$900",freq:3,bg:"#ef9a9a",text:"#222",hide:!1,fontMod:1},{name:"$500",freq:3,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#80CBC4",text:"#222",hide:!1,fontMod:1},{name:"$900",freq:3,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"BANKRUPT",freq:3,bg:"#333",text:"#eee",hide:!1,fontMod:1},{name:"$600",freq:3,bg:"#CE93D8",text:"#222",hide:!1,fontMod:1},{name:"$400",freq:3,bg:"#FFF59D",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#F48FB1",text:"#222",hide:!1,fontMod:1},{name:"LOSE A TURN",freq:3,bg:"white",text:"#222",hide:!1,fontMod:1},{name:"$800",freq:3,bg:"#ef9a9a",text:"#222",hide:!1,fontMod:1},{name:"$350",freq:3,bg:"#CE93D8",text:"#222",hide:!1,fontMod:1},{name:"$450",freq:3,bg:"#F48FB1",text:"#222",hide:!1,fontMod:1},{name:"$700",freq:3,bg:"#80CBC4",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"$600",freq:3,bg:"#CE93D8",text:"#222",hide:!1,fontMod:1},{name:"$2500",freq:3,bg:"#81D4FA",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#FFF59D",text:"#222",hide:!1,fontMod:1},{name:"$600",freq:3,bg:"#ef9a9a",text:"#222",hide:!1,fontMod:1},{name:"$300",freq:3,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"$500",freq:3,bg:"#80CBC4",text:"#222",hide:!1,fontMod:1},{name:"BANKRUPT",freq:1,bg:"#333",text:"#eee",hide:!1,fontMod:2},{name:"$10000",freq:1,bg:"#FFD54F",text:"#222",hide:!1,fontMod:2},{name:"BANKRUPT",freq:1,bg:"#333",text:"#eee",hide:!1,fontMod:2}]},p=[f,{name:"Wheel of Misfortune",winningText:"Congratulations! You win: <b>%s</b>!",background:"/static/smrt.jpg",removeWinning:!1,prizes:[{name:"No Service",freq:4,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"Tunnel Ponding",freq:4,bg:"#F48FB1",text:"#222",hide:!1,fontMod:1},{name:"Delay 60 mins",freq:4,bg:"#81D4FA",text:"#222",hide:!1,fontMod:1},{name:"Lightning Fault",freq:4,bg:"#B39DDB",text:"#222",hide:!1,fontMod:1},{name:"Delay 10 mins",freq:4,bg:"#C5E1A5",text:"#222",hide:!1,fontMod:1},{name:"Track Fault",freq:4,bg:"#F48FB1",text:"#222",hide:!1,fontMod:1},{name:"Delay 40 mins",freq:4,bg:"#81D4FA",text:"#222",hide:!1,fontMod:1},{name:"Full-day Closure",freq:4,bg:"#FFCC80",text:"#222",hide:!1,fontMod:1},{name:"Train Fault",freq:4,bg:"white",text:"#222",hide:!1,fontMod:1},{name:"Delay 20 mins",freq:4,bg:"#81D4FA",text:"#222",hide:!1,fontMod:1},{name:"Signal Fault",freq:4,bg:"#B39DDB",text:"#222",hide:!1,fontMod:1},{name:"Delay 10 mins",freq:4,bg:"#C5E1A5",text:"#222",hide:!1,fontMod:1},{name:"No Delay",freq:1,bg:"#111",text:"white",hide:!1,fontMod:1.4},{name:"Collision",freq:2,bg:"#ef9a9a",text:"#222",hide:!1,fontMod:1},{name:"No Delay",freq:1,bg:"#111",text:"white",hide:!1,fontMod:1.4}]},{name:"Wheel of Inquiry",winningText:"Your turn to answer the question, <b>%s</b>!",background:"",removeWinning:!0,prizes:[{name:"James"},{name:"John"},{name:"Robert"},{name:"Michael"},{name:"William"},{name:"David"},{name:"Richard"},{name:"Charles"},{name:"Mary"},{name:"Patricia"},{name:"Linda"},{name:"Barbara"},{name:"Elizabeth"},{name:"Jennifer"},{name:"Maria"},{name:"Susan"}]}],h={name:"LoadPresetPanel",components:{ModalPanel:u},data:function(){return{DEFAULT_PRESETS:p,NUM_DEFAULT_PRESETS:p.length}},computed:{presets:function(){return this.$store.state.presets}},methods:{cancel:function(){this.$emit("close")},loadPreset:function(e){this.$store.commit("loadPreset",e),this.$emit("close")}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModalPanel",{on:{close:e.cancel}},[n("span",{attrs:{slot:"header"},slot:"header"},[e._v("Load a Preset")]),e._v(" "),n("table",{staticClass:"load-preset-list"},[e._l(e.DEFAULT_PRESETS,function(t,i){return n("tr",{staticClass:"load-preset-item"},[n("td",{attrs:{width:"30"}},[e._v(e._s(i+1))]),e._v(" "),n("td",{attrs:{width:"265"}},[e._v(e._s("[Default] "+t.name))]),e._v(" "),n("td",[n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.loadPreset(t)}}},[e._v("Load")])])])}),e._v(" "),e._l(e.presets,function(t,i){return n("tr",{staticClass:"load-preset-item"},[n("td",[e._v(e._s(i+1+e.NUM_DEFAULT_PRESETS))]),e._v(" "),n("td",[e._v(e._s(t.name))]),e._v(" "),n("td",[n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.loadPreset(t.data)}}},[e._v("Load")])])])})],2),e._v(" "),n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.cancel(t)}}},[e._v("Cancel")])])},staticRenderFns:[]},v=n("VU/8")(h,m,!1,function(e){n("Nzcy")},null,null).exports,g={name:"PrizeEditor",props:{index:{type:Number,required:!0},prize:{type:Object,required:!0}}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"prize-editor"},[n("tr",[e._m(0),e._v(" "),n("td",{staticClass:"prize-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.prize.name,expression:"prize.name"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",id:"tb-prize-name"},domProps:{value:e.prize.name},on:{input:function(t){t.target.composing||e.$set(e.prize,"name",t.target.value)}}})])]),e._v(" "),n("tr",[e._m(1),e._v(" "),n("td",{staticClass:"prize-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.prize.freq,expression:"prize.freq",modifiers:{number:!0}}],attrs:{type:"number",id:"tb-prize-freq",placeholder:"4"},domProps:{value:e.prize.freq},on:{input:function(t){t.target.composing||e.$set(e.prize,"freq",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])]),e._v(" "),n("tr",[e._m(2),e._v(" "),n("td",{staticClass:"prize-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.prize.bg,expression:"prize.bg"}],attrs:{type:"text",id:"tb-prize-bg",placeholder:"auto"},domProps:{value:e.prize.bg},on:{input:function(t){t.target.composing||e.$set(e.prize,"bg",t.target.value)}}})])]),e._v(" "),n("tr",[e._m(3),e._v(" "),n("td",{staticClass:"prize-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.prize.text,expression:"prize.text"}],attrs:{type:"text",id:"tb-prize-text",placeholder:"#222"},domProps:{value:e.prize.text},on:{input:function(t){t.target.composing||e.$set(e.prize,"text",t.target.value)}}})])]),e._v(" "),n("tr",[e._m(4),e._v(" "),n("td",{staticClass:"prize-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.prize.fontMod,expression:"prize.fontMod",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",id:"tb-prize-font",placeholder:"1.0"},domProps:{value:e.prize.fontMod},on:{input:function(t){t.target.composing||e.$set(e.prize,"fontMod",e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-prize-name"}},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-prize-freq"}},[this._v("Relative Frequency")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-prize-bg"}},[this._v("Background Color")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-prize-text"}},[this._v("Text Color")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-prize-font"}},[this._v("Font Scaling")])])}]},b=n("VU/8")(g,_,!1,function(e){n("nb25")},null,null).exports,P=["#ef9a9a","#FFF59D","#80CBC4","#F48FB1","#FFCC80","#81D4FA","#B39DDB","#C5E1A5"],w=P.length,x=4,C="#333",z=function(e){var t=[];return e.forEach(function(e){e.hide||t.push(e)}),t},$=function(e){return P[e%w]},M=function(e){var t=0;return e.forEach(function(e){t+=e.freq||x}),t},F={name:"PrizeList",components:{PrizeEditor:b},props:{prizes:{type:Array,required:!0},editing:{type:Number,required:!0}},data:function(){return{DEFAULT_FREQUENCY:x,DEFAULT_TEXT_COLOR:C}},methods:{getDefaultBgColor:$,removePrize:function(e){this.$store.commit("removePrize",e)},setEditingIndex:function(e){this.$emit("editing",e)}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",{staticClass:"prizelist"},[e._m(0),e._v(" "),e._l(e.prizes,function(t,i){return[e.editing===i?[n("tr",{staticClass:"prizelist-item prizelist-item-active",on:{click:function(e){e.stopPropagation()}}},[n("td",{attrs:{colspan:"5"}},[n("PrizeEditor",{attrs:{index:i,prize:t}})],1)])]:[n("tr",{staticClass:"prizelist-item prizelist-item-inactive",on:{click:function(t){t.stopPropagation(),e.setEditingIndex(i)}}},[n("td",[e._v(e._s(i+1))]),e._v(" "),n("td",{style:{backgroundColor:t.bg||e.getDefaultBgColor(i),color:t.text||e.DEFAULT_TEXT_COLOR}},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),n("td",[e._v(e._s(t.freq||e.DEFAULT_FREQUENCY))]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.hide,expression:"prize.hide"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.hide)?e._i(t.hide,null)>-1:t.hide},on:{click:function(e){e.stopPropagation()},change:function(n){var i=t.hide,a=n.target,s=!!a.checked;if(Array.isArray(i)){var r=e._i(i,null);a.checked?r<0&&(t.hide=i.concat([null])):r>-1&&(t.hide=i.slice(0,r).concat(i.slice(r+1)))}else e.$set(t,"hide",s)}}})]),e._v(" "),n("td",[n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.removePrize(i)}}},[e._v("X")])])])]]})],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("td",{attrs:{width:"40"}},[this._v("#")]),this._v(" "),t("td",{attrs:{width:"250"}},[this._v("Name")]),this._v(" "),t("td",{attrs:{width:"40"}},[this._v("Freq")]),this._v(" "),t("td",{attrs:{width:"40"}},[this._v("Hide")]),this._v(" "),t("td")])])}]},y={name:"SavePresetPanel",components:{ModalPanel:u},data:function(){return{newPresetName:"",showTextbox:!1}},computed:{presets:function(){return this.$store.state.presets}},methods:{cancel:function(){this.$emit("close")},editName:function(){this.showTextbox=!0},removePreset:function(e){this.$store.commit("removePreset",e)},saveNewPreset:function(){this.$store.commit("saveNewPreset",this.newPresetName),this.$emit("close")},savePreset:function(e){this.$store.commit("savePreset",e),this.$emit("close")}}},D={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModalPanel",{on:{close:e.cancel}},[n("span",{attrs:{slot:"header"},slot:"header"},[e._v("Save as Preset")]),e._v(" "),n("table",{staticClass:"save-preset-list"},[0===e.presets.length?n("tr",[n("td",[e._v("(No presets found)")])]):e._l(e.presets,function(t,i){return n("tr",{staticClass:"save-preset-item"},[n("td",{attrs:{width:"30"}},[e._v(e._s(i+1))]),e._v(" "),n("td",{attrs:{width:"265"}},[e._v(e._s(t.name))]),e._v(" "),n("td",{attrs:{width:"50"}},[n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.savePreset(i)}}},[e._v("Save")])]),e._v(" "),n("td",[n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.removePreset(i)}}},[e._v("X")])])])})],2),e._v(" "),n("div",{staticClass:"save-preset-new"},[e.showTextbox?[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newPresetName,expression:"newPresetName"}],attrs:{type:"text",placeholder:"Preset name"},domProps:{value:e.newPresetName},on:{input:function(t){t.target.composing||(e.newPresetName=t.target.value)}}}),e._v(" "),n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.saveNewPreset(t)}}},[e._v("Save")])]:n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.editName(t)}}},[e._v("New Preset")])],2),e._v(" "),n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.cancel(t)}}},[e._v("Cancel")])])},staticRenderFns:[]},q={name:"OptionsPanel",components:{LoadPresetPanel:v,PrizeListEditor:n("VU/8")(F,E,!1,function(e){n("DMzq")},null,null).exports,SavePresetPanel:n("VU/8")(y,D,!1,function(e){n("6JAE")},null,null).exports},data:function(){return{editing:-1,panel:null}},computed:{options:function(){return this.$store.state.options}},methods:{addPrize:function(){this.$store.commit("addPrize",{name:"",freq:4,bg:"",text:"",hide:!1,fontMod:1}),this.setEditingIndex(this.options.prizes.length-1)},goBack:function(){this.$store.commit("hideOptions")},hidePanel:function(){this.panel=null},saveAndReset:function(){this.$store.commit("saveAndReset"),this.$store.commit("hideOptions")},setEditingIndex:function(e){this.editing!==e&&(this.editing=e)},showLoadPresetPanel:function(){this.panel="load"},showSavePresetPanel:function(){this.panel="save"}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-panel options-panel",on:{click:function(t){e.setEditingIndex(-1)}}},[n("div",{staticClass:"hide-options-container"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.goBack(t)}}},[e._v("Back")])]),e._v(" "),n("div",{staticClass:"options-panel-content"},[n("transition",{attrs:{name:"fade"}},["load"===e.panel?n("LoadPresetPanel",{on:{close:e.hidePanel}}):e._e(),e._v(" "),"save"===e.panel?n("SavePresetPanel",{on:{close:e.hidePanel}}):e._e()],1),e._v(" "),n("div",{staticClass:"options-header"},[e._v("Options")]),e._v(" "),n("table",{staticClass:"options-table"},[n("tr",[e._m(0),e._v(" "),n("td",{staticClass:"options-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.name,expression:"options.name"}],attrs:{type:"text",id:"tb-wheel-name",placeholder:"Wheel of Fortune"},domProps:{value:e.options.name},on:{input:function(t){t.target.composing||e.$set(e.options,"name",t.target.value)}}})])]),e._v(" "),n("tr",[e._m(1),e._v(" "),n("td",{staticClass:"options-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.winningText,expression:"options.winningText"}],attrs:{type:"text",id:"tb-winning-text",placeholder:"Result: <b>%s</b>"},domProps:{value:e.options.winningText},on:{input:function(t){t.target.composing||e.$set(e.options,"winningText",t.target.value)}}})])]),e._v(" "),n("tr",[e._m(2),e._v(" "),n("td",{staticClass:"options-input-cell"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.background,expression:"options.background"}],attrs:{type:"text",id:"tb-background-image",placeholder:"none"},domProps:{value:e.options.background},on:{input:function(t){t.target.composing||e.$set(e.options,"background",t.target.value)}}})])]),e._v(" "),n("tr",[n("td",{staticClass:"options-checkbox-cell",attrs:{colspan:"2"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.options.removeWinning,expression:"options.removeWinning"}],attrs:{type:"checkbox",id:"cb-remove-winning"},domProps:{checked:Array.isArray(e.options.removeWinning)?e._i(e.options.removeWinning,null)>-1:e.options.removeWinning},on:{change:function(t){var n=e.options.removeWinning,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.options.removeWinning=n.concat([null])):s>-1&&(e.options.removeWinning=n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.options,"removeWinning",a)}}}),e._v(" "),n("label",{attrs:{for:"cb-remove-winning"}},[e._v("Remove winning items")])])]),e._v(" "),n("tr",[n("td",{attrs:{colspan:"2"}},[n("div",{staticClass:"options-prizes-header"},[e._v("List of Prizes")]),e._v(" "),n("PrizeListEditor",{attrs:{prizes:e.options.prizes,editing:e.editing},on:{editing:e.setEditingIndex}}),e._v(" "),n("a",{staticClass:"button small",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.addPrize(t)}}},[e._v("Add Prize")])],1)])]),e._v(" "),n("div",{staticClass:"options-button-area"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showLoadPresetPanel(t)}}},[e._v("Load Preset")]),n("br"),e._v(" "),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.showSavePresetPanel(t)}}},[e._v("Save as Preset")]),n("br"),e._v(" "),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.saveAndReset(t)}}},[e._v("Save and Reset Wheel")])])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-wheel-name"}},[this._v("Name")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-winning-text"}},[this._v("Winning Text")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("td",[t("label",{attrs:{for:"tb-background-image"}},[this._v("Background Image")])])}]},S=n("VU/8")(q,R,!1,function(e){n("RmLW")},null,null).exports,k={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"records-panel"},[n("div",{staticClass:"records-panel-header"},[e._v("Records")]),e._v(" "),n("div",{ref:"content",staticClass:"records-panel-content"},[n("table",{staticClass:"records-panel-list"},[0===e.records.length?n("tr",[e._v("(No records found)")]):e._l(e.records,function(t,i){return n("tr",{staticClass:"records-panel-item"},[n("td",{attrs:{width:"30"}},[e._v(e._s(i+1))]),e._v(" "),n("td",{attrs:{width:"190"}},[e._v(e._s(t))])])})],2)]),e._v(" "),n("div",{staticClass:"hide-records-container"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.close(t)}}},[e._v("Close")])])])},staticRenderFns:[]},T=n("VU/8")({name:"RecordsPanel",computed:{records:function(){return this.$store.state.records}},methods:{close:function(){this.$emit("close")}},updated:function(){var e=this.$refs.content;e.scrollTop=e.scrollHeight}},k,!1,function(e){n("imFF")},null,null).exports,N=n("mvHQ"),A=n.n(N),W=function(e){return JSON.parse(A()(e))},I=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},O={name:"Wheel",data:function(){return{angle:0,resizeIntervalId:null}},computed:{prizes:function(){return this.$store.state.available},removeWinning:function(){return this.$store.state.data.removeWinning||!1}},methods:{resize:function(){var e=this,t=this.offscreen,n=this.$refs.canvas;n.height===n.offsetHeight&&n.width===n.offsetWidth||(n.width=n.offsetWidth,n.height=n.offsetHeight,t.width=n.offsetWidth,t.height=n.offsetHeight,this.$store.commit("updateWheelSize",Math.min(n.width,n.height)),window.requestAnimationFrame(function(){a(t,e.angle,e.prizes),s(t,n)}))},spinCompleted:function(){var e=function(e,t){for(var n=M(t),a=0,s=-1,r=0;r<t.length;++r){var o=t[r].freq||x;a+=o;var l=e+2*Math.PI*(a-o)/n,c=e+2*Math.PI*a/n;i(1.5*Math.PI,l,c)&&(s=r)}return s}(this.angle,this.prizes);this.$store.commit("addSpinResult",e),this.$emit("result",e)},startSpin:function(){function e(){var c=(+new Date-o)/t;c>1&&(c=1),l.angle+=n*(1-c),c<1?setTimeout(e,10):l.spinCompleted(),window.requestAnimationFrame(function(){a(l.offscreen,l.angle,r),s(l.offscreen,i)})}this.$store.commit("updateAvailable");var t=I(4600,5300),n=.2+.001*I(0,150),i=this.$refs.canvas,r=this.prizes,o=+new Date,l=this;setTimeout(e,10)}},mounted:function(){this.offscreen=document.createElement("canvas"),this.resizeIntervalId=setInterval(this.resize,10)},beforeDestroy:function(){clearInterval(this.resizeIntervalId)}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wheel-area"},[t("canvas",{ref:"canvas",staticClass:"wheel"})])},staticRenderFns:[]},L=n("VU/8")(O,U,!1,function(e){n("kJde")},null,null).exports,B=n("NYxO"),J={name:"WheelPanel",components:{RecordsPanel:T,Wheel:L},data:function(){return{showRecords:!1,spinning:!1,spinText:"Spin!",resultText:"Ready. Get set."}},computed:Object(B.b)({spins:function(e){return e.spins},name:function(e){return e.data.name||"Wheel of Fortune"},winningText:function(e){return e.data.winningText||"Result: <b>%s</b>"},background:function(e){return e.data.background||""},prizes:function(e){return e.available},headerWidth:function(e){return e.size+24}}),methods:{displayRecords:function(){this.showRecords=!0},displayOptions:function(){this.spinning||this.$store.commit("showOptions")},hideRecords:function(){this.showRecords=!1},spinCompleted:function(e){var t=this.prizes[e];this.spinning=!1,this.spinText="Spin again!",this.resultText=this.winningText.replace("%s",t.name)},startSpin:function(){!this.spinning&&this.prizes.length>0&&(this.spinning=!0,this.spinText="Spinning...",this.resultText="&#8203;",this.$refs.wheel.startSpin())}}},V={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-panel wheel-panel"},[n("div",{staticClass:"show-options-container"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.displayOptions(t)}}},[e._v("Options")])]),e._v(" "),n("div",{staticClass:"show-records-container"},[n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.displayRecords(t)}}},[e._v("Records")])]),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.showRecords?n("RecordsPanel",{on:{close:e.hideRecords}}):e._e()],1),e._v(" "),n("div",{staticClass:"wheel-panel-content"},[n("div",{staticClass:"wheel-header-area"},[n("div",{staticClass:"wheel-header",style:{width:e.headerWidth+"px"}},[n("div",{staticClass:"wheel-header-title"},[e._v(e._s(e.name))])])]),e._v(" "),n("Wheel",{ref:"wheel",on:{result:e.spinCompleted}}),e._v(" "),n("div",{staticClass:"wheel-footer-area"},[n("div",{staticClass:"wheel-footer"},[n("div",{staticClass:"wheel-result",domProps:{innerHTML:e._s(e.resultText)}}),e._v(" "),n("a",{staticClass:"button",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.startSpin(t)}}},[e._v(e._s(e.spinText))])])])],1),e._v(" "),n("img",{staticClass:"background-image",attrs:{src:e.background?e.background:null}})],1)},staticRenderFns:[]},K={name:"App",components:{OptionsPanel:S,WheelPanel:n("VU/8")(J,V,!1,function(e){n("LSSr")},null,null).exports},computed:{showOptions:function(){return this.$store.state.showOptions}}},H={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("transition",{attrs:{name:"fade-in",mode:"out-in",appear:""}},[this.showOptions?t("OptionsPanel"):t("WheelPanel")],1)],1)},staticRenderFns:[]},j=n("VU/8")(K,H,!1,function(e){n("7SeG")},null,null).exports,Y=n("UjVw"),G=n("mUbh"),X=function(e){try{var t=window[e],n="_storage_test_";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return!1}}("localStorage")?window.localStorage:window.sessionStorage,Q=function(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(i.name),r(X,"wofPresetData"+n,A()(i.data))}r(X,"wofPresets",A()(t))},Z=function(e,t){e.options.prizes.push(t)},ee=function(e,t){e.totalSpins++,e.spins++,e.lastResult=t,e.records.push(e.available[t].name)},te=function(e){e.showOptions=!1},ne=function(e,t){t&&(e.options=W(t))},ie=function(e,t){e.presets.splice(t,1),Q(e.presets)},ae=function(e,t){e.options.prizes.splice(t,1)},se=function(e){e.spins=0,e.lastResult=-1,e.records=[],e.data=W(e.options),e.available=W(z(e.data.prizes)),function(e){r(X,"wofOptions",A()(e))}(e.options)},re=function(e,t){e.presets.push({name:t,data:W(e.data)}),Q(e.presets)},oe=function(e,t){e.presets[t].data=W(e.data),Q(e.presets)},le=function(e){e.showOptions=!0},ce=function(e){-1!==e.lastResult&&e.data.removeWinning&&e.available.splice(e.lastResult,1)},de=function(e,t){e.size=t};l.a.use(B.a);var ue=function(){var e=X.getItem("wofOptions");if(e)try{e=JSON.parse(e)}catch(t){e=null,console.error("Error loading options: "+t)}return e}();ue||(ue=W(f));var fe=function(){var e=[],t=X.getItem("wofPresets");if(t)try{t=JSON.parse(t);for(var n=0;n<t.length;++n){var i=X.getItem("wofPresetData"+n);i=JSON.parse(i),e.push({name:t[n],data:i})}}catch(e){console.error("Error loading presets: "+e)}return e}(),pe=function(e,t){var n=parseInt(e);if(n>0&&n<=p.length)return p[n-1];var i=t[n-1-p.length];return i?i.data:null}(function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("preset"),fe),he=W(pe||ue),me={totalSpins:0,spins:0,lastResult:-1,showOptions:!1,size:0,options:ue,data:he,available:W(z(he.prizes)),records:[],presets:fe},ve=new B.a.Store({state:me,getters:Y,actions:G,mutations:o});var ge=ve;l.a.config.productionTip=!1,l.a.directive("focus",{inserted:function(e){e.focus()}}),new l.a({el:"#app",store:ge,render:function(e){return e(j)}})},Nzcy:function(e,t){},RmLW:function(e,t){},UjVw:function(e,t){},imFF:function(e,t){},kJde:function(e,t){},mUbh:function(e,t){},nb25:function(e,t){}},["NHnr"]);